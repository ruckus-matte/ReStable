/*! ReStable v0.1.2 - by Alessandro Benoit - EDITED for Ruckus by skerichards 2014-01-17 */
(function(e,t,n){"use strict";e.fn.ReStable=function(r){function o(t){var n=[],r={},i=e(t).find("thead").find("tr").children("td,th"),o=e(t).find("tfoot").find("tr").children("td,th").html(),u=0,a;if(s.rowHeaders){i=i.slice(1)}i.each(function(){n.push(e(this).html())});if(s.singleFooter){e(t).find("tbody").find("tr").slice(0).each(function(){var t=e(this);u+=1;e.each(n,function(e,n){e+=1;if(s.rowHeaders){if(!r[n]){r[n]={}}r[n][t.children("td:nth-child(1)").html()]=t.children("td:nth-child("+(e+1)+")").html()}else{if(!r[u]){r[u]={}}r[u][n]=t.children("td:nth-child("+e+")").html()}})})}else{e(t).find("tr").slice(1).each(function(){var t=e(this);u+=1;e.each(n,function(e,n){e+=1;if(s.rowHeaders){if(!r[n]){r[n]={}}r[n][t.children("td:nth-child(1)").html()]=t.children("td:nth-child("+(e+1)+")").html()}else{if(!r[u]){r[u]={}}r[u][n]=t.children("td:nth-child("+e+")").html()}})})}var f=e(t).attr("id")+"-list";if(f==="undefined-list"){var f=e(t).attr("class")+"-list"}if(f==="-list"){var f="tabletolist"}a=e("<ul/>",{"class":"tabletolist "+(s.rowHeaders?"rh":"nrh")+" "+(s.singleFooter?"sf":"nsf"),id:f}).insertBefore(e(t));e.each(r,function(t,n){var r=e("<li/>",{html:s.rowHeaders?'<span class="titles">'+t+"</span>":""}).appendTo(a),i=e("<ul/>").appendTo(r);e.each(n,function(t,n){e("<li/>",{html:'<span class="row_headers">'+t+'</span> <span class="row_data">'+n+"</span>"}).appendTo(i)})});if(s.singleFooter){e("<li/>",{html:o}).addClass("footnotes").appendTo(a)}return a}var s=e.extend({rowHeaders:true,singleFooter:false,maxWidth:480},r);this.each(function(){function a(){if(e(t).width()>parseInt(s.maxWidth,10)){e(r).show();if(u){e(u).hide()}}else{e(r).hide();if(u){e(u).show()}else{u=o(r,n)}}}var r=e(this),u;n+=1;a();e(t).resize(function(){a()})})};e.ReStable=function(t){e("table").ReStable(t)}})(jQuery,this,0)